<div class="todos-component">

  <!-- Toolbar -->
  <app-toolbar>
    <div class="todos-toolbar-content">

      <!-- Todo tab list -->
      <nav *ngIf="todos.length > 0"
           backgroundColor="primary"
           class="todo-tab-list tabs-fit-height"
           color="primary"
           mat-tab-nav-bar>

        <!-- Todo tab -->
        <a #rla="routerLinkActive"
           *ngFor="let todo of todos"
           [active]="rla.isActive"
           [id]="todo.id"
           [routerLink]="['todo', todo.id]"
           mat-tab-link
           routerLinkActive>
          {{ todo.name }}
        </a>
      </nav>

      <!-- Add todo button -->
      <button (click)="addTodo()"
              class="small"
              color="accent"
              id="new-todo-button"
              mat-mini-fab
              matTooltip="Add todo"
              matTooltipPosition="after">
        <mat-icon svgIcon="white-add"></mat-icon>
      </button>
    </div>
  </app-toolbar>
  <div class="content-container">

    <!-- Todos description -->
    <div *ngIf="currentUrl === '/todos'"
         class="todos-description-container">
      <h1 class="mat-h1">Todos views</h1>

      <!-- Actions -->
      <h3 class="mat-h3">Actions</h3>
      <div class="actions-container">

        <!-- Remove all todos button -->
        <button (click)="removeAllTodos()"
                *ngIf="todos.length > 0"
                color="warn"
                mat-raised-button>
          Remove all todos
        </button>
      </div>

      <!-- TD;DR -->
      <h3 class="mat-h3">TL;DR</h3>
      <p class="mat-body">
        These views allows you to create some todos list with tasks.
        <br>
        This is a good example on how to use Akita's store to help data management.
      </p>

      <!-- Stores -->
      <h3 class="mat-h3">Stores</h3>
      <p class="mat-body">
        All these stores use the Akita's local storage feature to keep your data persistent and it is better than just mocking the data.
        <br>
        There is no such thing as a real database behind it, this is a 100% Front-End project.
      </p>
      <h4 class="mat-h4">Todos</h4>
      <p class="mat-body">
        The main store is called "todos" and contains only a list of todos.
        <br>
        These todos are very simple and the full list is always display inside the tabs so the store works alone without an additional UI store.
        <br>
        We could consider it as a flat store since there is no deep level of data like object or array inside it.
        <br>
        All the data which is linked to a specific todos like the tasks are store inside others stores and use the id to create a permanent link between the data.
      </p>
    </div>

    <!-- Children content -->
    <router-outlet></router-outlet>
  </div>
</div>
