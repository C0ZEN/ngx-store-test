<div class="todos-todo-component"
     *ngIf="todo">

  <!-- Todo card -->
  <mat-card>
    <mat-card-header>

      <!-- Todo avatar -->
      <div mat-card-avatar
           class="todo-avatar">

        <!-- Loader -->
        <div *ngIf="!isAvatarLoaded"
             class="loader lds-dual-ring avatar">
        </div>

        <!-- Image -->
        <img [src]="todo.avatarUrl"
             (load)="onAvatarLoad()"
             alt="avatar">
      </div>

      <!-- Todo name -->
      <mat-card-title>{{ todo.name }}</mat-card-title>

      <!-- Todo dates -->
      <mat-card-subtitle>
        <span *ngIf="todo.updateDate">Created on {{ todo.creationDate | date }}, last update on {{ todo.updateDate | date }}</span>
        <span *ngIf="!todo.updateDate">Created on {{ todo.creationDate | date }}</span>
      </mat-card-subtitle>
    </mat-card-header>

    <!-- Todo description -->
    <mat-card-content *ngIf="todo.description">
      <p class="mat-body">{{ todo.description }}</p>
    </mat-card-content>
  </mat-card>

  <div class="action-container">

    <!-- Add task button -->
    <button mat-raised-button
            color="accent"
            matTooltip="Add task"
            matTooltipPosition="before"
            (click)="addTask()">
      Add
    </button>

    <!-- Edit todo button -->
    <button mat-raised-button
            color="accent"
            matTooltip="Edit todo"
            matTooltipPosition="after"
            (click)="editTodo()">
      Edit
    </button>
  </div>
</div>
